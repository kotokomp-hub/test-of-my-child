<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naji Demo App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .badge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
    </style>
</head>
<body class="p-4">
    <div id="app" class="max-w-md mx-auto space-y-4 animate-fade-in">
        <!-- Header -->
        <div class="glass rounded-2xl p-6 text-white">
            <h1 class="text-3xl font-bold mb-2">üé® Naji Demo</h1>
            <p class="text-sm opacity-80">–ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è SDK v2.0</p>
            <div id="user-info" class="mt-4 text-sm opacity-90"></div>
        </div>

        <!-- Tabs -->
        <div class="flex gap-2 overflow-x-auto pb-2">
            <button onclick="switchTab('basics')" id="tab-basics" class="tab-btn glass text-white px-4 py-2 rounded-xl font-semibold whitespace-nowrap">–û—Å–Ω–æ–≤–Ω–æ–µ</button>
            <button onclick="switchTab('wallet')" id="tab-wallet" class="tab-btn glass text-white px-4 py-2 rounded-xl font-semibold whitespace-nowrap">–ö–æ—à–µ–ª—ë–∫</button>
            <button onclick="switchTab('contracts')" id="tab-contracts" class="tab-btn glass text-white px-4 py-2 rounded-xl font-semibold whitespace-nowrap">–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã</button>
            <button onclick="switchTab('storage')" id="tab-storage" class="tab-btn glass text-white px-4 py-2 rounded-xl font-semibold whitespace-nowrap">–•—Ä–∞–Ω–∏–ª–∏—â–µ</button>
        </div>

        <!-- Content -->
        <div id="content-basics" class="tab-content">
            <div class="card p-6 space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h2>
                
                <button onclick="testAlert()" class="w-full btn-primary text-white py-3 rounded-xl font-semibold">
                    –ü–æ–∫–∞–∑–∞—Ç—å Alert
                </button>

                <button onclick="testInvoice()" class="w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-3 rounded-xl font-semibold">
                    üí∞ –°–æ–∑–¥–∞—Ç—å Invoice (100 Sparks)
                </button>

                <button onclick="testFullscreen()" class="w-full bg-gradient-to-r from-green-400 to-cyan-500 text-white py-3 rounded-xl font-semibold">
                    üì± –ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω
                </button>

                <button onclick="testBackButton()" class="w-full bg-gradient-to-r from-pink-400 to-rose-500 text-white py-3 rounded-xl font-semibold">
                    ‚Üê –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –ù–∞–∑–∞–¥
                </button>

                <button onclick="testOpenLink()" class="w-full bg-gradient-to-r from-indigo-400 to-purple-500 text-white py-3 rounded-xl font-semibold">
                    üîó –û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É
                </button>

                <div class="mt-4 p-4 bg-gray-50 rounded-xl">
                    <h3 class="font-bold text-gray-700 mb-2">Debug Info:</h3>
                    <pre id="debug-info" class="text-xs text-gray-600 overflow-x-auto"></pre>
                </div>
            </div>
        </div>

        <div id="content-wallet" class="tab-content hidden">
            <div class="card p-6 space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">üíé Solana –ö–æ—à–µ–ª—ë–∫</h2>
                
                <div id="wallet-info" class="p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl">
                    <p class="text-sm text-gray-600">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                </div>

                <button onclick="testGetAddress()" class="w-full btn-primary text-white py-3 rounded-xl font-semibold">
                    –ü–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å
                </button>

                <button onclick="testGetBalance()" class="w-full bg-gradient-to-r from-blue-400 to-cyan-500 text-white py-3 rounded-xl font-semibold">
                    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å
                </button>

                <div class="space-y-2">
                    <label class="block text-sm font-semibold text-gray-700">–ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è:</label>
                    <input type="text" id="recipient-addr" 
                           placeholder="Solana address..." 
                           class="w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none">
                    
                    <label class="block text-sm font-semibold text-gray-700 mt-3">–°—É–º–º–∞ SOL:</label>
                    <input type="number" id="amount" 
                           placeholder="0.1" 
                           step="0.001"
                           class="w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none">
                    
                    <button onclick="testPayment()" class="w-full bg-gradient-to-r from-green-400 to-emerald-500 text-white py-3 rounded-xl font-semibold mt-3">
                        üí∏ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–ª–∞—Ç—ë–∂
                    </button>
                </div>

                <button onclick="testSignMessage()" class="w-full bg-gradient-to-r from-orange-400 to-red-500 text-white py-3 rounded-xl font-semibold">
                    ‚úçÔ∏è –ü–æ–¥–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                </button>
            </div>
        </div>

        <div id="content-contracts" class="tab-content hidden">
            <div class="card p-6 space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">‚ö° –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</h2>
                
                <div class="p-4 bg-yellow-50 rounded-xl border-2 border-yellow-200">
                    <p class="text-sm text-yellow-800">
                        <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –§—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Solana
                    </p>
                </div>

                <button onclick="testMintNFT()" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-xl font-semibold">
                    üé® –°–æ–∑–¥–∞—Ç—å NFT
                </button>

                <div class="space-y-2">
                    <label class="block text-sm font-semibold text-gray-700">Program ID:</label>
                    <input type="text" id="program-id" 
                           placeholder="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" 
                           class="w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none text-xs font-mono">
                    
                    <label class="block text-sm font-semibold text-gray-700 mt-3">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <input type="text" id="contract-description" 
                           placeholder="–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç?" 
                           class="w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none">
                    
                    <button onclick="testCustomContract()" class="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-3 rounded-xl font-semibold mt-3">
                        üîß –í—ã–∑–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç
                    </button>
                </div>

                <div class="mt-4">
                    <h3 class="font-bold text-gray-700 mb-2">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:</h3>
                    <div class="space-y-2">
                        <button onclick="exampleTokenTransfer()" class="w-full text-left p-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm transition-colors">
                            <div class="font-semibold text-gray-800">Token Transfer</div>
                            <div class="text-xs text-gray-500">–ü–µ—Ä–µ–≤–æ–¥ SPL —Ç–æ–∫–µ–Ω–æ–≤</div>
                        </button>
                        <button onclick="exampleStaking()" class="w-full text-left p-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm transition-colors">
                            <div class="font-semibold text-gray-800">Staking</div>
                            <div class="text-xs text-gray-500">–°—Ç–µ–π–∫–∏–Ω–≥ SOL</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="content-storage" class="tab-content hidden">
            <div class="card p-6 space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">üíæ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</h2>
                
                <div class="space-y-2">
                    <label class="block text-sm font-semibold text-gray-700">–ö–ª—é—á:</label>
                    <input type="text" id="storage-key" 
                           placeholder="username" 
                           class="w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none">
                    
                    <label class="block text-sm font-semibold text-gray-700 mt-3">–ó–Ω–∞—á–µ–Ω–∏–µ:</label>
                    <input type="text" id="storage-value" 
                           placeholder="John Doe" 
                           class="w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none">
                    
                    <div class="flex gap-2 mt-3">
                        <button onclick="testSetItem()" class="flex-1 bg-gradient-to-r from-green-400 to-emerald-500 text-white py-3 rounded-xl font-semibold">
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        </button>
                        <button onclick="testGetItem()" class="flex-1 bg-gradient-to-r from-blue-400 to-cyan-500 text-white py-3 rounded-xl font-semibold">
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å
                        </button>
                    </div>
                </div>

                <div id="storage-result" class="p-4 bg-gray-50 rounded-xl">
                    <p class="text-sm text-gray-600">–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</p>
                </div>

                <button onclick="testCounter()" class="w-full bg-gradient-to-r from-orange-400 to-red-500 text-white py-3 rounded-xl font-semibold">
                    üî¢ –°—á—ë—Ç—á–∏–∫ (–ø—Ä–∏–º–µ—Ä)
                </button>

                <div id="counter-display" class="text-center">
                    <p class="text-4xl font-bold text-gray-800">0</p>
                    <p class="text-sm text-gray-500">–ö–ª–∏–∫–æ–≤</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="glass rounded-2xl p-4 text-white text-center text-sm">
            Powered by Naji SDK v2.0
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/najicreator/NMASDK@refs/heads/main/nmasdk.js"></script>
    <script>
        // ============================================
        // INITIALIZATION
        // ============================================
        
        let fullscreenActive = false;
        let counterValue = 0;

        window.NajiApp.onInit(() => {
            console.log('‚úÖ App initialized!');
            updateUserInfo();
            updateDebugInfo();
            loadCounter();
            
            // –£–≤–µ–¥–æ–º–ª—è–µ–º —Ö–æ—Å—Ç –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
            window.NajiApp.ready();
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—Ä–∞—Å–∏–≤—ã–π —Ü–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
            window.NajiApp.setHeaderColor('from-violet-500 to-fuchsia-500');
        });

        // Back button handler
        window.NajiApp.backButton.onClick(() => {
            window.NajiApp.showAlert('–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –Ω–∞–∂–∞—Ç–∞!', '–°–æ–±—ã—Ç–∏–µ', 'info');
            window.NajiApp.backButton.hide();
        });

        // ============================================
        // UI FUNCTIONS
        // ============================================

        function updateUserInfo() {
            const user = window.NajiApp.getUser();
            const userInfoEl = document.getElementById('user-info');
            
            if (user) {
                userInfoEl.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-semibold">@${user.username}</p>
                            <p class="text-xs opacity-75">${window.NajiApp.getPlatform().toUpperCase()}</p>
                        </div>
                        <div class="badge">
                            ‚ö° ${window.NajiApp.getSparks()}
                        </div>
                    </div>
                `;
            }
        }

        function updateDebugInfo() {
            const debugEl = document.getElementById('debug-info');
            debugEl.textContent = JSON.stringify(window.NajiApp.debug(), null, 2);
        }

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => {
                el.classList.remove('ring-2', 'ring-white');
            });
            
            // Show selected tab
            document.getElementById(`content-${tabName}`).classList.remove('hidden');
            document.getElementById(`tab-${tabName}`).classList.add('ring-2', 'ring-white');
        }

        // ============================================
        // BASIC FUNCTIONS
        // ============================================

        function testAlert() {
            window.NajiApp.showAlert(
                '–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤!',
                '–ü—Ä–∏–≤–µ—Ç! üëã',
                'success'
            );
        }

        async function testInvoice() {
            try {
                const result = await window.NajiApp.createInvoice(
                    '–¢–µ—Å—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞',
                    100,
                    '–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ Sparks'
                );
                
                if (result) {
                    window.NajiApp.showAlert('–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!', '–£—Å–ø–µ—Ö', 'success');
                } else {
                    window.NajiApp.showAlert('–û–ø–ª–∞—Ç–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞', '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è', 'info');
                }
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        function testFullscreen() {
            fullscreenActive = !fullscreenActive;
            window.NajiApp.setFullscreen(fullscreenActive);
        }

        function testBackButton() {
            window.NajiApp.backButton.show();
            window.NajiApp.showAlert('–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ', '–ì–æ—Ç–æ–≤–æ', 'info');
        }

        function testOpenLink() {
            window.NajiApp.openLink('https://solana.com');
        }

        // ============================================
        // WALLET FUNCTIONS
        // ============================================

        async function testGetAddress() {
            try {
                const address = await window.NajiApp.getSolanaAddress();
                document.getElementById('wallet-info').innerHTML = `
                    <div class="space-y-2">
                        <p class="text-sm font-semibold text-gray-700">–í–∞—à –∞–¥—Ä–µ—Å:</p>
                        <p class="text-xs font-mono text-gray-900 break-all bg-white p-2 rounded">${address}</p>
                    </div>
                `;
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        async function testGetBalance() {
            try {
                const balance = await window.NajiApp.getSolanaBalance();
                window.NajiApp.showAlert(`–í–∞—à –±–∞–ª–∞–Ω—Å: ${balance} SOL`, '–ë–∞–ª–∞–Ω—Å', 'info');
            } catch (error) {
                window.NajiApp.showAlert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è', 'info');
            }
        }

        async function testPayment() {
            const recipient = document.getElementById('recipient-addr').value;
            const amount = parseFloat(document.getElementById('amount').value);
            
            if (!recipient || !amount) {
                window.NajiApp.showAlert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', '–í–Ω–∏–º–∞–Ω–∏–µ', 'warning');
                return;
            }
            
            try {
                const result = await window.NajiApp.requestPayment(recipient, amount, 'SOL', 'Test payment from Naji Demo');
                window.NajiApp.showAlert(`–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!\nSignature: ${result.signature}`, '–£—Å–ø–µ—Ö', 'success');
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        async function testSignMessage() {
            try {
                const result = await window.NajiApp.signMessage('Hello from Naji Demo App!');
                window.NajiApp.showAlert('–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∞–Ω–æ!', '–£—Å–ø–µ—Ö', 'success');
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        // ============================================
        // CONTRACT FUNCTIONS
        // ============================================

        async function testMintNFT() {
            try {
                const result = await window.NajiApp.mintNFT(
                    'Naji Demo NFT',
                    'DEMO',
                    'https://arweave.net/demo-metadata.json'
                );
                window.NajiApp.showAlert(`NFT —Å–æ–∑–¥–∞–Ω!\nMint: ${result.mintAddress}`, '–£—Å–ø–µ—Ö', 'success');
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        async function testCustomContract() {
            const programId = document.getElementById('program-id').value;
            const description = document.getElementById('contract-description').value;
            
            if (!programId) {
                window.NajiApp.showAlert('–í–≤–µ–¥–∏—Ç–µ Program ID', '–í–Ω–∏–º–∞–Ω–∏–µ', 'warning');
                return;
            }
            
            try {
                const result = await window.NajiApp.executeSmartContract({
                    programId: programId,
                    instruction: 'custom',
                    accounts: [],
                    data: new Uint8Array([1, 2, 3]),
                    description: description || '–ö–∞—Å—Ç–æ–º–Ω—ã–π –≤—ã–∑–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞'
                });
                
                window.NajiApp.showAlert(`–ö–æ–Ω—Ç—Ä–∞–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω!\nSignature: ${result.signature}`, '–£—Å–ø–µ—Ö', 'success');
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        async function exampleTokenTransfer() {
            window.NajiApp.showAlert('–ü—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ–≤–æ–¥ USDC —á–µ—Ä–µ–∑ Token Program', 'Token Transfer', 'info');
            document.getElementById('program-id').value = 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA';
            document.getElementById('contract-description').value = '–ü–µ—Ä–µ–≤–æ–¥ 100 USDC';
        }

        async function exampleStaking() {
            window.NajiApp.showAlert('–ü—Ä–∏–º–µ—Ä: —Å—Ç–µ–π–∫–∏–Ω–≥ —á–µ—Ä–µ–∑ Stake Program', 'Staking', 'info');
            document.getElementById('program-id').value = 'Stake11111111111111111111111111111111111111';
            document.getElementById('contract-description').value = '–°—Ç–µ–π–∫–∏–Ω–≥ 1 SOL';
        }

        // ============================================
        // STORAGE FUNCTIONS
        // ============================================

        async function testSetItem() {
            const key = document.getElementById('storage-key').value;
            const value = document.getElementById('storage-value').value;
            
            if (!key || !value) {
                window.NajiApp.showAlert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ –ø–æ–ª—è', '–í–Ω–∏–º–∞–Ω–∏–µ', 'warning');
                return;
            }
            
            try {
                await window.NajiApp.setItem(key, value);
                document.getElementById('storage-result').innerHTML = `
                    <p class="text-sm text-green-600 font-semibold">‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!</p>
                    <p class="text-xs text-gray-600 mt-1">${key} = "${value}"</p>
                `;
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        async function testGetItem() {
            const key = document.getElementById('storage-key').value;
            
            if (!key) {
                window.NajiApp.showAlert('–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á', '–í–Ω–∏–º–∞–Ω–∏–µ', 'warning');
                return;
            }
            
            try {
                const value = await window.NajiApp.getItem(key);
                document.getElementById('storage-result').innerHTML = `
                    <p class="text-sm text-blue-600 font-semibold">üì• –ó–∞–≥—Ä—É–∂–µ–Ω–æ:</p>
                    <p class="text-xs text-gray-600 mt-1">${key} = "${value || 'null'}"</p>
                `;
                
                if (value) {
                    document.getElementById('storage-value').value = value;
                }
            } catch (error) {
                window.NajiApp.showAlert('–û—à–∏–±–∫–∞: ' + error.message, '–û—à–∏–±–∫–∞', 'error');
            }
        }

        async function loadCounter() {
            try {
                const saved = await window.NajiApp.getItem('counter');
                if (saved !== null) {
                    counterValue = parseInt(saved);
                    updateCounterDisplay();
                }
            } catch (error) {
                console.error('Load counter error:', error);
            }
        }

        async function testCounter() {
            counterValue++;
            updateCounterDisplay();
            
            try {
                await window.NajiApp.setItem('counter', counterValue);
            } catch (error) {
                console.error('Save counter error:', error);
            }
        }

        function updateCounterDisplay() {
            document.getElementById('counter-display').innerHTML = `
                <p class="text-4xl font-bold text-gray-800">${counterValue}</p>
                <p class="text-sm text-gray-500">–ö–ª–∏–∫–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ</p>
            `;
        }
    </script>
</body>
</html>
